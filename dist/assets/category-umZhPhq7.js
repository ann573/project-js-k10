import{g as y}from"./service-Ccry4lSF.js";import{g as h}from"./utils-ev9IYk3T.js";const g=document.querySelector(".path"),l=document.querySelector(".increase"),a=document.querySelector(".desc"),b=document.querySelector(".fillRating"),x=document.querySelector("#number_product"),p=document.querySelector(".main");let i=1;const d=8;(async()=>{const e=await y(`products/category/${h("category")}`);console.log(e),x.textContent=e.products.length,v(),k(e),L(),m(i,e),renderReviews(e),renderSameProduct(e)})();function v(){g.innerHTML=`
          <a href="../index.html" class="text-[#09c] hover:text-[#fcb800] transition-colors">Home</a> /
          <span class="capitalize">${h("category").split("-").join(" ")}</span>
      `}function k(e){l.addEventListener("click",()=>u(e,l)),a.addEventListener("click",()=>u(e,a))}function u(e,t){t.children[0].children[0].style.display==="block"?t.children[0].children[0].style.display="none":(l.children[0].children[0].style.display="none",a.children[0].children[0].style.display="none",t.children[0].children[0].style.display="block")}function L(){for(let e=1;e<=5;e++){let t="";const n=document.createElement("div");n.classList.add("cursor-pointer","flex","items-center","mb-2","w-max","select-none");const c=`
      <div class="square size-4 bg-white flex items-center border border-[#666666] text-[#fcb800] cursor-pointer mr-3" id="check-${e}">
        <i class="ri-check-line hidden"></i> <!-- Thêm icon check với style display: none ban đầu -->
      </div>
    `;for(let s=1;s<=e;s++)t+='<span class="text-[gold] mr-1">★</span>';for(let s=5;s>e;s--)t+='<span class="text-gray-400 mr-1">★</span>';n.innerHTML=c+t,b.appendChild(n),n.addEventListener("click",function(){this.children[0].children[0].style.display==="block"?this.children[0].children[0].style.display="none":this.children[0].children[0].style.display="block"})}}function m(e,t){p.innerHTML="";const n=(e-1)*d,c=n+d,s=t.products.slice(n,c);console.log(s),s.forEach(r=>{let f=P(r);const o=document.createElement("a");o.setAttribute("href",`./product-detail.html?id=${r.id}`),o.classList.add("p-3","hover:outline","hover:outline-[1px]","hover:outline-[#c0c0c0]","relative"),o.classList.add("clothes_item"),o.innerHTML=`
      <img src="${r.thumbnail}"/>
      <h3 class="min-h-12">${r.title}</h3>
      <p>${f}</p>
      <p class="flex items-center gap-2"><span class="line-through text-sm">$${(r.price/(1-r.discountPercentage/100)).toFixed(2)}</span>
      <span class="text-[#F5912C] font-semibold">$${r.price}</span></p>
      <span class="bg-[#f14705] block px-3 w-max rounded text-white font-bold absolute left-1 top-1">-${r.discountPercentage}%</span>
    `,p.appendChild(o),$(t)})}function $(e){const t=document.querySelector(".pagination");t.innerHTML="";const n=Math.ceil(e.products.length/d);for(let c=1;c<=n;c++){const s=document.createElement("button");s.classList.add("page-btn","mx-2","hover:opacity-80"),s.innerHTML=c===i?`<span class="flex justify-center items-center w-5 h-5 rounded-full bg-[#F5912C] text-white">${c}</span>`:`${c}`,s.addEventListener("click",()=>{i=c,m(i,e),window.scrollTo({top:123,left:0,behavior:"smooth"})}),t.appendChild(s)}}function P(e){let t="";for(let n=1;n<=e.rating;n++)t+='<span class="text-[gold] mr-1">★</span>';if(e.rating<5){const n=5-Math.floor(e.rating);for(let c=1;c<=n;c++)t+='<span class="text-gray-400 mr-1">★</span>'}return t}
